---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
    number_sections: true
---

# Peer Assignment 1 :    

[inline html preview:](http://htmlpreview.github.io/?https://github.com/chatard/RepData_PeerAssessment1/blob/master/PA1_template.html)

## Loading and preprocessing the data

### Preliminary settings:
#### Local date and time settings for US compatibility 

```{r USlocaltime}
Sys.setlocale("LC_TIME","en_US.UTF-8")
```

#### Knitr options:  

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

####Loading basic packages.

```{r packages}
library(dplyr)
library(ggplot2)
```

### Loading data:  

```{r loading}
        if(!file.exists("activity.csv")){
        unzip("activity.zip")
        }
data<- read.csv("activity.csv")
```


###Data characteristics:

#### brief look:  

```{r data}
str(data)
```

#### dimensions:

```{r dimensions}
dim(data)
```

## What is mean total number of steps taken per day?

To calculate this mean value,  we must know the value $S_{i}$ for each day which is 
equal to the total of steps per day and then sum all Si: $\sum S_{i}$ ... then divide by 
the number of days. 
Or, which is the same thing, calculate mean(S)
which is the mean of the variable S.

```{r}
grdata<- data %>%
        group_by(date)%>%
        summarise(stepsmeanbyday=sum(steps, na.rm = TRUE))
```

```{r density, fig.height= 3}
p <- ggplot(grdata, aes(x=stepsmeanbyday)) + 
        geom_density(color="darkblue", fill="lightblue") +
        labs(x= "steps mean by day", y= "probability (mean steps by day =x)")+
        geom_vline(aes( xintercept = mean(stepsmeanbyday) ),
        linetype=  "solid", color =  "green" ) +
        geom_vline(aes( xintercept =median(stepsmeanbyday) ),
                   linetype=  "solid", color =  "red" )    
```

```{r}
p
```


###Making a histogram of the total number of steps taken each day:        

```{r histogram1, fig.height= 4}
ggplot(grdata, aes(x = stepsmeanbyday)) + 
        geom_histogram(fill = "blue", binwidth = 1000)+
        labs(title="Histogram of Steps Taken per Day", 
             x="Number of Steps per Day",
             y="Number of times in a day")
```


### Mean and median of the total number of steps taken per day:  
    

```{r daymean}
  grmean<- mean(grdata$stepsmeanbyday, na.rm = TRUE)
  
```
  mean  =   `r toString(grmean) `
  
```{r daymedian}  
grmedian <- median(grdata$stepsmeanbyday, na.rm = TRUE)

```

median =   `r toString(grmedian) `


## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
